(function(t){function e(e){for(var n,o,i=e[0],c=e[1],l=e[2],u=0,f=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&f.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(f.length)f.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==s[c]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},s={app:0},r=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"02b8":function(t,e,a){"use strict";a("609e")},"034f":function(t,e,a){"use strict";a("85ec")},"20cb":function(t,e,a){},"2d52":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v(" Ah Huat's Zi Char ")]),a("router-view")],1)},r=[],o={name:"App"},i=o,c=(a("034f"),a("2877")),l=Object(c["a"])(i,s,r,!1,null,null,null),d=l.exports,u=a("2145"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",[a("li",[a("router-link",{attrs:{to:"/",exact:""}},[t._v(" Home ")])],1),a("li",[a("router-link",{attrs:{to:"/orders",exact:""}},[t._v(" Orders ")])],1),a("li",[a("router-link",{attrs:{to:"/dashboard",exact:""}},[t._v(" Dashboard ")])],1)]),a("ul",t._l(t.orders,(function(e){return a("li",{key:e[0]},[t._l(e[1],(function(e,n){return a("p",{key:e},[t._v(" "+t._s(n)+" : "+t._s(e)+" ")])})),a("button",{attrs:{id:e[0]},on:{click:function(e){return t.deleteItem(e)}}},[t._v(" Delete ")]),a("button",{attrs:{id:e[0]},on:{click:function(e){return t.route(e)}}},[t._v(" Modify ")])],2)})),0)])},h=[],b=(a("4160"),a("159b"),a("2591")),m={apiKey:"AIzaSyBnYuvMmnuxtouNbOPg9dFwE4j49IeUJvY",authDomain:"bt3103-week-6-claris.firebaseapp.com",projectId:"bt3103-week-6-claris",storageBucket:"bt3103-week-6-claris.appspot.com",messagingSenderId:"1012119078290",appId:"1:1012119078290:web:3ed2e1691e0ddf3ab0ad4b",measurementId:"G-MWVWYGXZSS"};b["a"].initializeApp(m);var j=b["a"].firestore(),p=j,v={name:"Order",data:function(){return{orders:[]}},methods:{fetchItems:function(){var t=this;p.collection("orders").get().then((function(e){e.docs.forEach((function(e){t.orders.push([e.id,e.data()])}))}))},deleteItem:function(t){var e=t.target.getAttribute("id");p.collection("orders").doc(e).delete().then((function(){return location.reload()}))},route:function(t){var e=t.target.getAttribute("id");this.$router.push({name:"modify",params:{id:e}})}},created:function(){this.fetchItems()}},k=v,g=(a("f16e"),Object(c["a"])(k,f,h,!1,null,null,null)),_=g.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",[a("li",[a("router-link",{attrs:{to:"/",exact:""}},[t._v(" Home ")])],1),a("li",[a("router-link",{attrs:{to:"/orders",exact:""}},[t._v(" Orders ")])],1),a("li",[a("router-link",{attrs:{to:"/dashboard",exact:""}},[t._v(" Dashboard ")])],1)]),a("ul",{attrs:{id:"itemsList"}},t._l(t.items,(function(e){return a("li",{key:e.name,attrs:{id:"items"}},[a("p",{attrs:{id:"itemName"}},[t._v(" "+t._s(e.name)+" ")]),a("img",{attrs:{src:e.imageURL}}),a("p",{attrs:{id:"price"}},[t._v(" "+t._s("$"+e.price)+" ")]),a("QuantityCounter",{attrs:{item:e},on:{counter:t.onCounter}})],1)})),0),a("Basket",{attrs:{itemsSelected:t.itemsSelected,items:t.items,id:"shoppingBasket"}})],1)},C=[],x=(a("a434"),a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"QuantityCounter"}},[a("button",{on:{click:t.decrement}},[t._v(" - ")]),t._v(" "+t._s(t.counter)+" "),a("button",{on:{click:t.increment}},[t._v(" + ")])])}),w=[],O={name:"QuantityCounter",data:function(){return{counter:0}},methods:{decrement:function(){this.counter>0&&(this.counter-=1),this.$emit("counter",this.item,this.counter)},increment:function(){this.counter<10?this.counter+=1:alert("You cannot buy more than 10 items."),this.$emit("counter",this.item,this.counter)}},props:{item:Object}},S=O,z=(a("6e8a"),Object(c["a"])(S,x,w,!1,null,"a9896ed2",null)),B=z.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" Menu: "),a("ul",t._l(t.itemsSelected,(function(e){return a("li",{key:e.name,attrs:{id:"basket"}},[t._v(" "+t._s(e[0]+" x"+e[1])+" ")])})),0),a("button",{on:{click:function(e){return t.findTotal()}}},[t._v(" Calculate Total ")]),a("button",{on:{click:function(e){return t.sendOrder()}}},[t._v(" Submit Order ")]),a("p",{directives:[{name:"show",rawName:"v-show",value:t.isClicked,expression:"isClicked"}]},[t._v(" Subtotal: $"+t._s(t.subtotal)+" ")]),a("p",{directives:[{name:"show",rawName:"v-show",value:t.isClicked,expression:"isClicked"}]},[t._v(" Grand Total: $"+t._s(t.grandtotal)+" ")])])},$=[],I=(a("b680"),{name:"Basket",data:function(){return{isClicked:!1,subtotal:0,grandtotal:0,multiplier:1.07}},props:{itemsSelected:Array,items:Array},methods:{findTotal:function(){this.subtotal=0,this.grandtotal=0;for(var t=0;t<this.itemsSelected.length;t++){var e=this.itemsSelected[t];this.subtotal+=e[1]*e[2],this.grandtotal=this.subtotal*this.multiplier}this.isClicked||(this.isClicked=!0)},sendOrder:function(){for(var t={},e=0;e<this.items.length;e++)t[this.items[e].name]=0;for(var a=0;a<this.itemsSelected.length;a++){var n=this.itemsSelected[a],s=n[0],r=n[1];t[s]=r}p.collection("orders").add(t).then((function(){return location.reload()}))}},watch:{result:function(){this.grandtotal=this.subtotal*this.multiplier,this.grandtotal.toFixed(2),this.isClicked||(this.isClicked=!0)}}}),D=I,A=(a("8ae6"),Object(c["a"])(D,E,$,!1,null,"c43861f6",null)),P=A.exports,T={name:"PageContent",components:{QuantityCounter:B,Basket:P},data:function(){return{itemsSelected:[],items:[]}},methods:{onCounter:function(t,e){if(0===this.itemsSelected.length&&e>0)this.itemsSelected.push([t.name,e,t.price]);else{for(var a=0;a<this.itemsSelected.length;a++){var n=this.itemsSelected[a],s=n[0],r=!1;if(s==t.name&&e>0){this.itemsSelected.splice(a,1,[n[0],e,n[2]]),r=!0;break}if(s==t.name&&0===e){this.itemsSelected.splice(a,1),r=!0;break}}r||this.itemsSelected.push([t.name,e,t.price])}},fetchItems:function(){var t=this;p.collection("menu").get().then((function(e){e.docs.forEach((function(e){t.items.push(e.data())}))}))}},created:function(){this.fetchItems()}},N=T,M=(a("02b8"),Object(c["a"])(N,y,C,!1,null,"6b910aaa",null)),L=M.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",t._l(t.datapacket,(function(e,n,s){return a("li",{key:s},[a("p",[t._v(" "+t._s(n)+" : "+t._s(e)+" ")]),a("input",{attrs:{id:s,placeholder:"0",type:"number",min:"0",max:"10"}})])})),0),a("button",{on:{click:t.updateOrder}},[t._v(" Update Order ")])])},U=[],F=(a("a9e3"),{name:"modify",props:{id:{type:String}},data:function(){return{datapacket:{}}},methods:{fetchItems:function(){var t=this;p.collection("orders").doc(this.id).get().then((function(e){t.datapacket=e.data()}))},updateOrder:function(){var t=this,e={};for(var a in this.datapacket)e[a]=a.value;var n=0;for(var s in e){var r=document.getElementById(n).value;e[s]=""==r?0:Number(r),n++}p.collection("orders").doc(this.id).update(e).then((function(){return t.$router.push("Orders")}))}},created:function(){this.fetchItems()}}),H=F,Q=(a("fc2f"),Object(c["a"])(H,G,U,!1,null,"70138b53",null)),R=Q.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"dashboard"}},[a("ul",[a("li",[a("router-link",{attrs:{to:"/",exact:""}},[t._v(" Home ")])],1),a("li",[a("router-link",{attrs:{to:"/orders",exact:""}},[t._v(" Orders ")])],1),a("li",[a("router-link",{attrs:{to:"/dashboard",exact:""}},[t._v(" Dashboard ")])],1)]),a("div",{attrs:{id:"bar"}},[a("BarChart")],1),a("div",{staticStyle:{height:"600px"},attrs:{id:"chart"}},[a("LineChart")],1)])},J=[],W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v(" Bar Chart ")]),a("Chart")],1)},Z=[],q=a("ef82"),K={extends:q["a"],data:function(){return{datacollection:{labels:[],datasets:[{data:[],barThickness:90,backgroundColor:["DarkSalmon","LemonChiffon","PowderBlue","LightSteelBlue","Thistle","Plum"],hoverBackgroundColor:"Gainsboro"}]},options:{maintainAspectRatio:!1,title:{text:"Total Number of each dish",display:!0,fontColor:"Grey",fontSize:15},legend:{display:!1},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}}},methods:{fetchData:function(){var t=this,e=[],a=[],n={};p.collection("orders").get().then((function(s){s.docs.forEach((function(t){var a=t.data();for(var s in a)s in n?n[s]+=a[s]:(n[s]=a[s],e.push(s))})),e.sort();for(var r=0;r<e.length;r++)a.push(n[e[r]]);t.datacollection.labels=e,t.datacollection.datasets[0].data=a,t.renderChart(t.datacollection,t.options)}))}},created:function(){console.log("created"),this.fetchData()}},V={components:{Chart:K}},X=V,tt=Object(c["a"])(X,W,Z,!1,null,null,null),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v(" Line Chart ")]),a("Chart")],1)},nt=[],st=a("bc3a"),rt=a.n(st),ot={extends:q["b"],data:function(){return{datacollection:{labels:[],datasets:[{data:[],label:"West",borderColor:"Firebrick",fill:!1},{data:[],label:"National",borderColor:"CornflowerBlue",fill:!1},{data:[],label:"East",borderColor:"SlateBlue",fill:!1},{data:[],label:"Central",borderColor:"DeepSkyBlue",fill:!1},{data:[],label:"South",borderColor:"RosyBrown",fill:!1},{data:[],label:"North",borderColor:"SeaGreen",fill:!1}]},options:{maintainAspectRatio:!1}}},methods:{fetchData:function(){var t=this;rt.a.get("https://api.data.gov.sg/v1/environment/psi?date=2021-02-23").then((function(e){var a=e.data.items,n=[],s=[],r=[],o=[],i=[],c=[],l=[];for(var d in a){var u=a[d],f=u["timestamp"],h=u.readings["psi_twenty_four_hourly"];for(var b in h)"west"==b?s.push(h[b]):"national"==b?r.push(h[b]):"east"==b?o.push(h[b]):"central"==b?i.push(h[b]):"south"==b?c.push(h[b]):l.push(h[b]);n.push(f)}t.datacollection.labels=n,t.datacollection.datasets[0].data=s,t.datacollection.datasets[1].data=r,t.datacollection.datasets[2].data=o,t.datacollection.datasets[3].data=i,t.datacollection.datasets[4].data=c,t.datacollection.datasets[5].data=l,t.renderChart(t.datacollection,t.options)}))}},created:function(){this.fetchData()}},it={components:{Chart:ot}},ct=it,lt=Object(c["a"])(ct,at,nt,!1,null,null,null),dt=lt.exports,ut={components:{BarChart:et,LineChart:dt}},ft=ut,ht=Object(c["a"])(ft,Y,J,!1,null,"1d578f65",null),bt=ht.exports,mt=[{path:"/orders",component:_},{path:"/",component:L},{path:"/modify",name:"modify",component:R,props:!0},{path:"/dashboard",component:bt}];n["a"].use(u["a"]),n["a"].config.productionTip=!1;var jt=new u["a"]({routes:mt,mode:"history"});new n["a"]({render:function(t){return t(d)},router:jt}).$mount("#app")},"609e":function(t,e,a){},"6e8a":function(t,e,a){"use strict";a("cd1c")},7012:function(t,e,a){},"85ec":function(t,e,a){},"8ae6":function(t,e,a){"use strict";a("20cb")},"9f0c":function(t,e,a){var n={"./af":"f818","./af.js":"f818","./ar":"b5ba","./ar-dz":"9d08","./ar-dz.js":"9d08","./ar-kw":"fd3d","./ar-kw.js":"fd3d","./ar-ly":"0df6","./ar-ly.js":"0df6","./ar-ma":"f5f8","./ar-ma.js":"f5f8","./ar-sa":"86cd","./ar-sa.js":"86cd","./ar-tn":"5830","./ar-tn.js":"5830","./ar.js":"b5ba","./az":"9fdf","./az.js":"9fdf","./be":"4d36","./be.js":"4d36","./bg":"e883","./bg.js":"e883","./bm":"4298","./bm.js":"4298","./bn":"2b2e","./bn-bd":"b971","./bn-bd.js":"b971","./bn.js":"2b2e","./bo":"a8fe","./bo.js":"a8fe","./br":"ab02","./br.js":"ab02","./bs":"cac3","./bs.js":"cac3","./ca":"727c","./ca.js":"727c","./cs":"db15","./cs.js":"db15","./cv":"2866","./cv.js":"2866","./cy":"e2e0","./cy.js":"e2e0","./da":"d190","./da.js":"d190","./de":"5731","./de-at":"6776","./de-at.js":"6776","./de-ch":"6bd9","./de-ch.js":"6bd9","./de.js":"5731","./dv":"7827","./dv.js":"7827","./el":"3350","./el.js":"3350","./en-au":"e68e","./en-au.js":"e68e","./en-ca":"b4a9","./en-ca.js":"b4a9","./en-gb":"2e0f","./en-gb.js":"2e0f","./en-ie":"2007","./en-ie.js":"2007","./en-il":"30dc","./en-il.js":"30dc","./en-in":"5259","./en-in.js":"5259","./en-nz":"fa4c","./en-nz.js":"fa4c","./en-sg":"590d","./en-sg.js":"590d","./eo":"fb0d","./eo.js":"fb0d","./es":"bd0c","./es-do":"fe85","./es-do.js":"fe85","./es-mx":"3f53","./es-mx.js":"3f53","./es-us":"c1c2","./es-us.js":"c1c2","./es.js":"bd0c","./et":"8e51","./et.js":"8e51","./eu":"8047","./eu.js":"8047","./fa":"ace3","./fa.js":"ace3","./fi":"3512","./fi.js":"3512","./fil":"9519","./fil.js":"9519","./fo":"296d","./fo.js":"296d","./fr":"62ae","./fr-ca":"f520","./fr-ca.js":"f520","./fr-ch":"a9d9","./fr-ch.js":"a9d9","./fr.js":"62ae","./fy":"bb83","./fy.js":"bb83","./ga":"faac","./ga.js":"faac","./gd":"4f30","./gd.js":"4f30","./gl":"1f7c","./gl.js":"1f7c","./gom-deva":"835f","./gom-deva.js":"835f","./gom-latn":"daa2","./gom-latn.js":"daa2","./gu":"59f1","./gu.js":"59f1","./he":"b952","./he.js":"b952","./hi":"3630","./hi.js":"3630","./hr":"d705","./hr.js":"d705","./hu":"10c9","./hu.js":"10c9","./hy-am":"4b6a","./hy-am.js":"4b6a","./id":"74fa","./id.js":"74fa","./is":"c329","./is.js":"c329","./it":"ee47","./it-ch":"baae","./it-ch.js":"baae","./it.js":"ee47","./ja":"6b6c","./ja.js":"6b6c","./jv":"ce38","./jv.js":"ce38","./ka":"7ad5","./ka.js":"7ad5","./kk":"1868","./kk.js":"1868","./km":"af4b","./km.js":"af4b","./kn":"6933","./kn.js":"6933","./ko":"3b09","./ko.js":"3b09","./ku":"d7a2","./ku.js":"d7a2","./ky":"44da","./ky.js":"44da","./lb":"3aac","./lb.js":"3aac","./lo":"4d72","./lo.js":"4d72","./lt":"5337","./lt.js":"5337","./lv":"9a31","./lv.js":"9a31","./me":"c9ef","./me.js":"c9ef","./mi":"e590","./mi.js":"e590","./mk":"0492","./mk.js":"0492","./ml":"62fe","./ml.js":"62fe","./mn":"5f6e","./mn.js":"5f6e","./mr":"aa17","./mr.js":"aa17","./ms":"61d0","./ms-my":"8aef","./ms-my.js":"8aef","./ms.js":"61d0","./mt":"695b","./mt.js":"695b","./my":"e0ea","./my.js":"e0ea","./nb":"41e0","./nb.js":"41e0","./ne":"d02b","./ne.js":"d02b","./nl":"69b6","./nl-be":"0728","./nl-be.js":"0728","./nl.js":"69b6","./nn":"fc22","./nn.js":"fc22","./oc-lnc":"8d44","./oc-lnc.js":"8d44","./pa-in":"fa72","./pa-in.js":"fa72","./pl":"8021","./pl.js":"8021","./pt":"cf2a","./pt-br":"97ff","./pt-br.js":"97ff","./pt.js":"cf2a","./ro":"3b5b","./ro.js":"3b5b","./ru":"6883","./ru.js":"6883","./sd":"e8a1","./sd.js":"e8a1","./se":"7db1","./se.js":"7db1","./si":"1386","./si.js":"1386","./sk":"d645","./sk.js":"d645","./sl":"e61f","./sl.js":"e61f","./sq":"ee34","./sq.js":"ee34","./sr":"ea94","./sr-cyrl":"1ab0","./sr-cyrl.js":"1ab0","./sr.js":"ea94","./ss":"e78a","./ss.js":"e78a","./sv":"010c","./sv.js":"010c","./sw":"1450","./sw.js":"1450","./ta":"aa14","./ta.js":"aa14","./te":"beb6","./te.js":"beb6","./tet":"27da","./tet.js":"27da","./tg":"4bde","./tg.js":"4bde","./th":"2dd6","./th.js":"2dd6","./tk":"478a","./tk.js":"478a","./tl-ph":"a36c","./tl-ph.js":"a36c","./tlh":"86c9","./tlh.js":"86c9","./tr":"6755","./tr.js":"6755","./tzl":"5cfd","./tzl.js":"5cfd","./tzm":"4812","./tzm-latn":"6636","./tzm-latn.js":"6636","./tzm.js":"4812","./ug-cn":"ab75","./ug-cn.js":"ab75","./uk":"9f61","./uk.js":"9f61","./ur":"adf5","./ur.js":"adf5","./uz":"fb6d","./uz-latn":"9d50","./uz-latn.js":"9d50","./uz.js":"fb6d","./vi":"99a5","./vi.js":"99a5","./x-pseudo":"c3cf","./x-pseudo.js":"c3cf","./yo":"3ed5","./yo.js":"3ed5","./zh-cn":"eb15","./zh-cn.js":"eb15","./zh-hk":"b7e2","./zh-hk.js":"b7e2","./zh-mo":"b829","./zh-mo.js":"b829","./zh-tw":"1abb","./zh-tw.js":"1abb"};function s(t){var e=r(t);return a(e)}function r(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}s.keys=function(){return Object.keys(n)},s.resolve=r,t.exports=s,s.id="9f0c"},cd1c:function(t,e,a){},f16e:function(t,e,a){"use strict";a("2d52")},fc2f:function(t,e,a){"use strict";a("7012")}});
//# sourceMappingURL=app.46c69208.js.map